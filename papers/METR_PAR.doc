        Метрические параметры для оценки проекта БИС.
        ─────────────────────────────────────────────


    В  настоящее   время  возникла  необходимость создания
  автоматического     преобразователя   проекта  из базиса
  программируемых  логических  интегральных  схем ( ПЛИС )
  в базис  универсальных вентильных матриц ( УВМ ),  т. к.
  стоимость и время  проектирования  ПЛИС  примерно  в  10
  раз меньше этих параметров для УВМ,а стоимость серийного
  изготовления,вероятность отказа и массо-габаритные пара-
  метры УВМ значительно ниже, чем для ПЛИС.  Перевод схемы
  из базиса ПЛИС в базис  УВМ  должен  представлять  собой
  некоторое  сочетание процессов,  на  каждом  из  которых
  необходимо  знать  параметры  схемы  с целью  порождения
  оптимального конечного представления.
    Целью  данной  статьи является рассмотрение параметров
  проекта, независимых от используемого базиса.
    Если задана реализация схемы на каком-либо языке,можно
  идентифицировать    все    операнды ,  определенные  как
  переменные или константы,используемые в этой реализации.
  Подобным образом можно  идентифицировать все  операторы,
  определенные как блоки или их комбинации,  влияющие   на
  значение   или   на   порядок   операндов.   Исходя   из
  идентификации  операторов и операндов, можно  определить
  ряд вычислимых, а следовательно,  измеримых   категорий,
  обязательно  присутствующих  в любой версии любой схемы.
  Указанные  свойства   являются  основными   метрическими
  характеристиками, с  помощью   которых   были   получены
  соотношения для реализации эффективного  автоматического
  транслятора проекта на ПЛИС  в проект  на УВМ.  Свойства
  любого выражения схемы или алгоритма, которые могут быть
  вычислены или измерены, включают  следующие  метрические
  характеристики :
  n - число простых операций,появляющихся в    реализации;
  k - число простых  цепей , появляющихся в    реализации;
  Ns - общее  число    всех    операций   в    реализации;
  Ks - общее  число    всех     цепей     в    реализации;
  {fn(j)} -  число   вхождений   j-й    наиболее     часто 
             встречающейся   операции ,   где  j = [1,n] ;
  {fk(j)} -  число   вхождений   j-й    наиболее     часто
             встречающейся     цепи  ,   где   j = [1,k] .
    Определим словарь m=n+k и длину  реализации   N=Ns+Ks.
   Ns=fn(1)+...+fn(n) , Ks=fk(0)+...+fk(k)             (1)
  Длина   реализации    алгоритма   в   логической   схеме
   N=n*log(n) + k*log(k)                               (2)
  Объем   схемы   V=N*log(m)                           (3)
   При переходе от одного описания к другому  V  меняется.
  Потенциальный  объем   Vp=(1+k)*log(1+k)             (4)
  Граничный  объем  Vg=k*log(k)*log(1+k)               (5)
  Понятие  уровня   схемы  показывает,  из  подсхем  какой
  сложности   состоит   сама   схема .    Уровень    схемы
  целесообразно выразить через объем:     L = Vp/V ,   (6)
  и тогда лишь наиболее сжатое представление  схемы  будет
  иметь уровень 1. Итак,  0 < L < 1 .
   Выделим член, не зависящий от реализации: Vp=L*V    (7)
  При  увеличении  объема уровень уменьшается, и наоборот.
  Для оценки проекта часто требуется  определить   уровень
  схемы непосредственно из  какой-либо  реализации  схемы,
  не  зная   ее  потенциальный  объем  и  не  ссылаясь  на
  возможное  обращение  к  ней  в  виде   макроопределения
  (задача перехода ПЛИС к УВМ и т.п.) :  L=k/(n*Ks)    (8)
    Это  определение ни  в коей  мере не противоречит (6),
  но  и   соответствует   ему  и   может   быть   признано
  альтернативным. Если  постулировать ,  что   любые   две
  эквивалентные схемы в самом деле  несут  одну  и  ту  же
  информацию, можно ответить на вопрос "сколько?". Но  это
  не   "информация"   в   смысле  определения  Шеннона , а
  следовательно  назовем  этот  параметр  интеллектуальным
  содержанием или интеллектом и обозначим:
         I=L*V или I=k*Nlog(m) ,                       (9)
  где все члены в правой части доступны  непосредственному
  измерению  исходя  из  любого представления схемы. Ранее
  было показано, что длина схемы  соотносится  с  размером
  словаря, требуемого для ее реализации,и что произведение
  ее объема на уровень  остается относительно постоянным и
  при переходе от  одного  представления к другому. Однако
  при  этом   рассматривались   схемы ,   уже   достаточно
  оптимизированные  и  лишенные ненужных участков, наличие
  которых увеличивает N без соответствующего расширения m.
  Отсюда  следует , что   имеющиеся   соотношения   должны
  применяться только  к  "совершенным" в  некотором смысле
  схемным реализациям. Можно  получить процедуру выделения
  конструкций, не позволяющих схеме подчиняться  указанным
  соотношениям, согласованность с которыми следует считать
  псевдоопределением понятия "совершенная".
    Выделяют следующие классы несовершенств:
    1) дополняющие друг друга операции;
    2) неоднозначные  операнды,  или  циклы,  когда входом
       оператора  является его выход;
    3) синонимичные операнды, или "лишний" двунаправленный
       ключ.  Может   быть   также   неразведенная   цепь;
    4) общие подвыражения.Схема комбинационного устройства
       не  оптимизирована   по  картам  Карно  или  Вейча;
    5) выражения, не  представленные  в  виде произведения
       множителей.
    Простое       соотношение      между      метрическими
  характеристиками и работой, выполняемой проектировщиком,
  может  быть получено с помощью  шести  шагов,  описанных
  ниже в общих чертах:
  1) Допустим,  что  любая  реализация  какой-либо   схемы
  заключается в  N-кратном  выборе из словаря,  состоящего
  из m элементов.
  2) Далее  предположим , что  каждый  выбор  из   словаря
  неслучаен. Исследования методов сортировки показали,что,
  за исключением хеширования,самым быстрым способом поиска
  в упорядоченном  списке  является  двоичный  поиск,  при
  котором список многократно делится пополам  до  тех пор,
  пока  не  будет  найден нужный  элемент.   Полученное  в
  результате число сравнений равно логаpифму  по основанию
  2 числа элементов  в  списке.   Следовательно, требуется
  log(m) сравнений  для  нахождения элемента.
  3) На  основании шагов 1)  и  2)  можно  заключить,  что
  схема  порождается   выполнением    N*log(m)   мысленных
  сравнений.
  4) Объем схемы равен числу сравнений, затрачиваемых   на
  порождение  схемы.
  5) Каждое сравнение содержит ряд элементарных pазличений
  ,число которых является  мерой  сложности  схемы.  Тогда
  уровень схемы  L   является   величиной ,  обратной   ее
  сложности.
  6) Так как объем V равен числу сравнений,а величина  1/L
  есть среднее число элементарных различений,  входящих  в
  каждое сравнение,общее число элементарных  различений Е,
  требуемых   для  порождения  схемы,  должно   задаваться
  выражением                 Е =V/L                   (10)
    Можно выявить более глубокий смысл  уравнения  работы,
  если вспомнить уравнение L=Vp/V :    2
                                    Е=V/Vp            (11)
    Уравнение (11) показывает,  что  работа  по реализации
  любой   схемы   с  данным потенциальным объемом в каждом
  представлении  пропорциональна  квадрату  объема  схемы.
  Для того,чтобы перевести  в  единицы  времени  уравнение
  (10), имеющее   размерность   двоичных   разрядов    или
  различений, разделим обе его части на число различений в
  единицу времени S.

                                    2
  В результате получим  Т=Е/S=V/SL=V/(S*Vp)           (12)
  и
         Т=n*Ks*(n*log(n)+k*log(k))*log(m)/(k*S)      (13)
    S  опpеделяют   из   характеристик    соответствующего
  транслятора  или  оно   соответствует, в случае  ручного
  проектирования, числу  Страуде [21],равному  5 -  20 для
  различных проектировщиков.
  Произведение L*Vp остается неизменным для  любого языка.
  Это произведение,называемое уровнем языка,запишем в виде
                         2
                 q=L*Vp=L*V .                         (14)
            2
Tак как  Е=V/Vp и  Vp=V/L ,то Е=Vp/(L*L),и т.к. L=q/Vp, то

                     3  2
                 Е=Vp /q                              (15)

    Введенные     метрические     соотношения    позволяют
 оптимизировать   количество    входов  логического  блока
 с точки зрения времени преобразования проекта  из  одного
 базиса в другой. Пусть число внешних цепей блока равно r.
 При Ns блоках в схоме может быть  от  r+2  до  (Ns-1)*r+1
 цепей. Тогда в среднем k=(Ns*r+3)/2. В то же время  число
                      (r-1)                             -n
 блоков библиотеки n=2   . Тогда при Ks=k , Ns(r)=Ns(2)*2 
 из производной выражения (13) по переменной r находим,что
 
 